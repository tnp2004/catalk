---
import Layout from "../../../layouts/Layout.astro";
import type { GetStaticPaths } from "astro";
import { CamelToWords } from "../../../utils/convertStringFormat";

export const getStaticPaths = (async () => {
    const res: Promise<ResponseData<string[]>> = await(await fetch("http://localhost:8080/api/v1/cats/breeds")).json()
    const breedsRes = await res
    return breedsRes.data.map(v => ({params: {breed: v}}))
}) satisfies GetStaticPaths;

const { breed } = Astro.params;
---
<Layout>
    <div class="bg-amber-100 border-4 border-slate-700 w-1/2 mx-auto my-10 rounded shadow-xl overflow-hidden px-1">
        <label class="font-bold pl-1 text-3xl" for="chat-title">{CamelToWords(breed)}</label>
        <ul class="h-[60vh] flex flex-col px-2 py-3 overflow-auto">
            <li class="flex justify-end">
                <label class="border-2 border-slate-700 bg-slate-100 shadow-md rounded-full rounded-br-sm block p-2">Hello</label>
            </li>
            <li class="flex justify-start">
                <label class="border-2 border-slate-700 bg-slate-100 shadow-md rounded-full rounded-bl-sm block p-2">Hi there!</label>
            </li>
        </ul>
        <div class="flex mb-2">
            <input class="w-full px-2 rounded-md shadow-sm" placeholder="Type a message . . ." type="text">
            <button class="font-bold p-1">send</button>
        </div>
    </div>
</Layout>